## Session: Shared repo-level .blacksmith resolution in worktrees (simple-agent-harness-1d04)

### Completed
- Added repo-shared `.blacksmith` path resolution via git common-dir detection.
- Updated CLI config loading to rebase default `.blacksmith/config.toml` to the shared repo root when running in a worktree.
- Updated all `DataDir` construction callsites in `main.rs` to use resolved repo-shared `.blacksmith` paths.
- Added tests for:
  - main checkout + worktree resolving to same `.blacksmith/blacksmith.db` location
  - preserving explicit non-default `--config` paths
  - preserving non-`.blacksmith` relative data paths
- Added bead `## Verify` notes with exact commands and observed results.

### Current State
- `src/data_dir.rs` and `src/main.rs` include shared-path resolver + coverage.
- Full release tests passed (`cargo test --release`).
- Clippy fix ran successfully; formatting applied.

### Suggested Next Tasks
- Validate in an end-to-end manual run that `blacksmith improve add` from main checkout and worktree both surface in the same DB-backed listing.
